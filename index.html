<!DOCTYPE html> 
<html lang="en"> 
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content= "IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Andrija MihailoviÄ‡</title>
    <link rel="icon" type="images/x-icon" href="images/favicon.ico" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="scene">
    <div class="cube" id="cube">
      <div class="face front">Andrija</div>
      <div class="face back">Andrija</div>
      <div class="face left">Andrija</div>
      <div class="face right">Andrija</div>
      <div class="face top">Andrija</div>
      <div class="face bottom">Andrija</div>
    </div>
  </div>

  <canvas id="trailCanvas"></canvas>

  <script src="script.js"></script>
</body>
</html>

</script>

<script>

// Mouse Trail Logic
const canvas = document.getElementById("trailCanvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

let trail = [];
window.addEventListener("mousemove", (e) => {
  trail.push({ x: e.clientX, y: e.clientY, alpha: 1.0 });
});

function drawTrail() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let i = 0; i < trail.length; i++) {
    let p = trail[i];
    ctx.beginPath();
    ctx.strokeStyle = `rgba(255,255,255,${p.alpha})`;
    ctx.lineWidth = 2;
    if (i > 0) {
      ctx.moveTo(trail[i - 1].x, trail[i - 1].y);
      ctx.lineTo(p.x, p.y);
    }
    ctx.stroke();
    p.alpha -= 0.02;
  }
  trail = trail.filter(p => p.alpha > 0);
  requestAnimationFrame(drawTrail);
}
drawTrail();

// Cube Auto & Interactive Rotation
const cube = document.getElementById("cube");
let rotationX = 0;
let rotationY = 0;
let autoRotate = true;
let isDragging = false;
let lastMouseX, lastMouseY;

function animateCube() {
  if (autoRotate) {
    rotationY += 0.3;
    rotationX += 0.15;
  }
  cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
  requestAnimationFrame(animateCube);
}
animateCube();

cube.addEventListener("mousedown", (e) => {
  isDragging = true;
  autoRotate = false;
  lastMouseX = e.clientX;
  lastMouseY = e.clientY;
  cube.style.cursor = "grabbing";
});

window.addEventListener("mousemove", (e) => {
  if (isDragging) {
    const dx = e.clientX - lastMouseX;
    const dy = e.clientY - lastMouseY;
    rotationY += dx * 0.5;
    rotationX -= dy * 0.5;
    lastMouseX = e.clientX;
    lastMouseY = e.clientY;
  }
});

window.addEventListener("mouseup", () => {
  isDragging = false;
  cube.style.cursor = "grab";
  setTimeout(() => autoRotate = true, 3000); // resume spin after 3s
});

</script>

</body> 
</html>

    
